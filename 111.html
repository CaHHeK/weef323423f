<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Push Notifications Test</title>
</head>
<body>
    <button onclick="subscribe()">Subscribe for Push Notifications</button>
    <button onclick="sendTestNotification()">Send Test Notification</button>

    <script>
        // Регистрация Service Worker
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/weef323423f/sw.js').then(function(registration) {
                console.log('Service Worker registered with scope:', registration.scope);
            }).catch(function(error) {
                console.error('Service Worker registration failed:', error);
            });
        }

        // Запрос разрешения на уведомления
        function subscribe() {
            if ('Notification' in window && 'serviceWorker' in navigator) {
                Notification.requestPermission().then(function(permission) {
                    if (permission === 'granted') {
                        console.log('Notification permission granted.');
                    } else {
                        console.error('Notification permission denied.');
                    }
                });
            }
        }

        // Отправка тестового уведомления
        function sendTestNotification() {
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.ready.then(function(registration) {
                    registration.showNotification('Test Notification', {
                        body: 'This is a test message.',
                        icon: 'https://example.com/icon.png'
                    });
                });
            }
        }
    </script>
</body>
</html>
